<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tactical Life Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
    </style>
</head>
<body class="bg-zinc-900 text-zinc-100">
    <div id="app" class="min-h-screen p-4">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <div class="bg-zinc-800 border-l-4 border-orange-500 p-6 mb-6 shadow-xl">
                <h1 class="text-3xl font-bold text-orange-400">TACTICAL LIFE SYSTEM</h1>
                <p class="text-sm text-zinc-400 mt-1">Personal Operations Command</p>
            </div>

            <!-- Navigation -->
            <div class="grid grid-cols-5 gap-2 mb-6" id="nav-buttons"></div>

            <!-- Content -->
            <div class="bg-zinc-800 p-6 shadow-xl" id="content"></div>
        </div>
    </div>

    <script>
        // Icons (simple SVG)
        const icons = {
            user: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',
            target: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg>',
            trending: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>',
            chart: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>',
            package: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16.5 9.4l-9-5.19M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>',
            plus: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>',
            check: '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>',
            trash: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>'
        };

        // State
        let state = {
            activeTab: 'overview',
            data: {
                profile: {
                    name: 'Operator',
                    level: 1,
                    xp: 0,
                    xpNeeded: 100
                },
                stats: [
                    { id: 1, name: 'Physical', value: 50, max: 100 },
                    { id: 2, name: 'Mental', value: 50, max: 100 },
                    { id: 3, name: 'Social', value: 50, max: 100 },
                    { id: 4, name: 'Technical', value: 50, max: 100 }
                ],
                skills: [
                    { id: 1, name: 'Coding', level: 1, xp: 0, category: 'Technical' }
                ],
                quests: [
                    { id: 1, title: 'Complete daily workout', status: 'active', difficulty: 'medium', xpReward: 50 }
                ],
                inventory: [
                    { id: 1, name: 'Laptop', category: 'Tool', quantity: 1 }
                ]
            },
            forms: {}
        };

        // Load from localStorage
        const saved = localStorage.getItem('tacticalLifeData');
        if (saved) {
            try {
                state.data = JSON.parse(saved);
            } catch (e) {
                console.error('Error loading data');
            }
        }

        function saveData() {
            localStorage.setItem('tacticalLifeData', JSON.stringify(state.data));
        }

        function gainXP(amount) {
            let newXP = state.data.profile.xp + amount;
            let newLevel = state.data.profile.level;
            let xpNeeded = state.data.profile.xpNeeded;

            while (newXP >= xpNeeded) {
                newXP -= xpNeeded;
                newLevel++;
                xpNeeded += 50;
            }

            state.data.profile.xp = newXP;
            state.data.profile.level = newLevel;
            state.data.profile.xpNeeded = xpNeeded;
            saveData();
        }

        function completeQuest(id) {
            const quest = state.data.quests.find(q => q.id === id);
            if (quest && quest.status === 'active') {
                gainXP(quest.xpReward);
                quest.status = 'completed';
                saveData();
                render();
            }
        }

        function addSkillXP(id, amount) {
            const skill = state.data.skills.find(s => s.id === id);
            if (skill) {
                let newXP = skill.xp + amount;
                while (newXP >= 100) {
                    newXP -= 100;
                    skill.level++;
                }
                skill.xp = newXP;
                saveData();
                render();
            }
        }

        function deleteItem(type, id) {
            state.data[type] = state.data[type].filter(i => i.id !== id);
            saveData();
            render();
        }

        function updateStat(id, field, value) {
            const stat = state.data.stats.find(s => s.id === id);
            if (stat) {
                stat[field] = Number(value) || 0;
                saveData();
                render();
            }
        }

        function addItem(type) {
            if (!state.forms[type]) return;
            const newId = Math.max(0, ...state.data[type].map(i => i.id)) + 1;
            state.data[type].push({ ...state.forms[type], id: newId });
            state.forms[type] = null;
            saveData();
            render();
        }

        function showForm(type, template) {
            state.forms[type] = template;
            render();
        }

        function cancelForm(type) {
            state.forms[type] = null;
            render();
        }

        function updateForm(type, field, value) {
            if (state.forms[type]) {
                state.forms[type][field] = value;
                render();
            }
        }

        function renderNavigation() {
            const tabs = [
                { id: 'overview', icon: 'user', label: 'Overview' },
                { id: 'quests', icon: 'target', label: 'Quests' },
                { id: 'skills', icon: 'trending', label: 'Skills' },
                { id: 'stats', icon: 'chart', label: 'Stats' },
                { id: 'inventory', icon: 'package', label: 'Inventory' }
            ];

            return tabs.map(tab => `
                <button
                    onclick="state.activeTab='${tab.id}'; render();"
                    class="flex flex-col items-center justify-center gap-1 py-3 font-semibold transition-all ${
                        state.activeTab === tab.id
                            ? 'bg-orange-500 text-zinc-900'
                            : 'bg-zinc-800 text-zinc-400 hover:bg-zinc-700'
                    }"
                >
                    ${icons[tab.icon]}
                    <span class="text-xs">${tab.label}</span>
                </button>
            `).join('');
        }

        function renderOverview() {
            const active = state.data.quests.filter(q => q.status === 'active').length;
            const completed = state.data.quests.filter(q => q.status === 'completed').length;
            const xpPercent = (state.data.profile.xp / state.data.profile.xpNeeded) * 100;

            return `
                <div class="space-y-6">
                    <div class="bg-zinc-900 border-l-4 border-orange-500 p-6">
                        <h2 class="text-2xl font-bold text-orange-400 mb-4">${state.data.profile.name}</h2>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <p class="text-xs text-zinc-500">Level</p>
                                <p class="text-3xl font-bold text-orange-400">${state.data.profile.level}</p>
                            </div>
                            <div>
                                <p class="text-xs text-zinc-500">Experience</p>
                                <p class="text-xl font-bold text-zinc-300">${state.data.profile.xp} / ${state.data.profile.xpNeeded}</p>
                            </div>
                        </div>
                        <div class="w-full bg-zinc-950 h-4 rounded overflow-hidden">
                            <div class="bg-orange-500 h-full transition-all" style="width: ${xpPercent}%"></div>
                        </div>
                    </div>

                    <div class="grid grid-cols-3 gap-4">
                        <div class="bg-zinc-900 p-4 text-center">
                            <p class="text-xs text-zinc-500 mb-2">Active Quests</p>
                            <p class="text-3xl font-bold text-orange-400">${active}</p>
                        </div>
                        <div class="bg-zinc-900 p-4 text-center">
                            <p class="text-xs text-zinc-500 mb-2">Completed</p>
                            <p class="text-3xl font-bold text-green-500">${completed}</p>
                        </div>
                        <div class="bg-zinc-900 p-4 text-center">
                            <p class="text-xs text-zinc-500 mb-2">Skills</p>
                            <p class="text-3xl font-bold text-blue-400">${state.data.skills.length}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderQuests() {
            const activeQuests = state.data.quests.filter(q => q.status === 'active');
            const completedQuests = state.data.quests.filter(q => q.status === 'completed');

            const questHTML = (quest, status) => {
                const diffColor = quest.difficulty === 'easy' ? 'bg-green-600' : 
                                quest.difficulty === 'medium' ? 'bg-orange-500 text-zinc-900' : 'bg-red-600';
                return `
                    <div class="bg-zinc-900 p-4 rounded">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <h5 class="font-semibold text-zinc-100">${quest.title}</h5>
                                <div class="flex gap-2 mt-2">
                                    <span class="text-xs px-2 py-1 rounded font-semibold ${diffColor}">
                                        ${quest.difficulty}
                                    </span>
                                    <span class="text-xs px-2 py-1 bg-zinc-800 text-orange-400 rounded font-semibold">
                                        +${quest.xpReward} XP
                                    </span>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                ${status === 'active' ? `
                                    <button onclick="completeQuest(${quest.id})" class="bg-green-600 hover:bg-green-700 p-2 rounded">
                                        ${icons.check}
                                    </button>
                                ` : ''}
                                <button onclick="deleteItem('quests', ${quest.id})" class="bg-red-600 hover:bg-red-700 p-2 rounded">
                                    ${icons.trash}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            };

            return `
                <div class="space-y-6">
                    <h3 class="text-xl font-bold text-orange-400 border-b border-zinc-700 pb-3">Quest Log</h3>
                    
                    <div>
                        <h4 class="text-sm font-semibold text-zinc-400 mb-3 uppercase">active</h4>
                        <div class="space-y-3">
                            ${activeQuests.map(q => questHTML(q, 'active')).join('')}
                        </div>
                    </div>

                    <div>
                        <h4 class="text-sm font-semibold text-zinc-400 mb-3 uppercase">completed</h4>
                        <div class="space-y-3">
                            ${completedQuests.map(q => questHTML(q, 'completed')).join('')}
                        </div>
                    </div>

                    <button
                        onclick="showForm('quests', { title: '', status: 'active', difficulty: 'medium', xpReward: 50 })"
                        class="w-full bg-orange-500 hover:bg-orange-600 text-zinc-900 font-bold py-3 rounded flex items-center justify-center gap-2"
                    >
                        ${icons.plus} New Quest
                    </button>

                    ${state.forms.quests ? `
                        <div class="bg-zinc-900 border-l-4 border-orange-500 p-4 rounded space-y-3">
                            <input
                                placeholder="Quest title"
                                value="${state.forms.quests.title}"
                                oninput="updateForm('quests', 'title', this.value)"
                                class="w-full bg-zinc-950 border border-zinc-700 px-3 py-2 rounded text-zinc-100"
                            />
                            <select
                                onchange="updateForm('quests', 'difficulty', this.value)"
                                class="w-full bg-zinc-950 border border-zinc-700 px-3 py-2 rounded text-zinc-100"
                            >
                                <option value="easy" ${state.forms.quests.difficulty === 'easy' ? 'selected' : ''}>Easy</option>
                                <option value="medium" ${state.forms.quests.difficulty === 'medium' ? 'selected' : ''}>Medium</option>
                                <option value="hard" ${state.forms.quests.difficulty === 'hard' ? 'selected' : ''}>Hard</option>
                            </select>
                            <input
                                type="number"
                                placeholder="XP Reward"
                                value="${state.forms.quests.xpReward}"
                                oninput="updateForm('quests', 'xpReward', Number(this.value))"
                                class="w-full bg-zinc-950 border border-zinc-700 px-3 py-2 rounded text-zinc-100"
                            />
                            <div class="flex gap-2">
                                <button onclick="addItem('quests')" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-semibold">Add</button>
                                <button onclick="cancelForm('quests')" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded font-semibold">Cancel</button>
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        function renderSkills() {
            return `
                <div class="space-y-6">
                    <h3 class="text-xl font-bold text-orange-400 border-b border-zinc-700 pb-3">Skill Development</h3>
                    
                    <div class="space-y-4">
                        ${state.data.skills.map(skill => `
                            <div class="bg-zinc-900 p-4 rounded">
                                <div class="flex justify-between items-start mb-3">
                                    <div>
                                        <h5 class="font-semibold text-zinc-100">${skill.name}</h5>
                                        <p class="text-xs text-zinc-500">${skill.category}</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="bg-orange-500 text-zinc-900 px-3 py-1 rounded text-sm font-bold">
                                            Lvl ${skill.level}
                                        </span>
                                        <button onclick="deleteItem('skills', ${skill.id})" class="text-red-500 hover:text-red-400">
                                            ${icons.trash}
                                        </button>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="flex justify-between text-xs mb-1 text-zinc-400">
                                        <span>Progress</span>
                                        <span class="text-orange-400 font-semibold">${skill.xp}%</span>
                                    </div>
                                    <div class="w-full bg-zinc-950 h-2 rounded overflow-hidden">
                                        <div class="bg-green-500 h-full transition-all" style="width: ${skill.xp}%"></div>
                                    </div>
                                </div>
                                <button
                                    onclick="addSkillXP(${skill.id}, 10)"
                                    class="w-full bg-zinc-950 hover:bg-zinc-800 border border-zinc-700 py-2 rounded text-sm font-semibold"
                                >
                                    +10 XP
                                </button>
                            </div>
                        `).join('')}
                    </div>

                    <button
                        onclick="showForm('skills', { name: '', level: 1, xp: 0, category: '' })"
                        class="w-full bg-orange-500 hover:bg-orange-600 text-zinc-900 font-bold py-3 rounded flex items-center justify-center gap-2"
                    >
                        ${icons.plus} New Skill
                    </button>

                    ${state.forms.skills ? `
                        <div class="bg-zinc-900 border-l-4 border-orange-500 p-4 rounded space-y-3">
                            <input
                                placeholder="Skill name"
                                value="${state.forms.skills.name}"
                                oninput="updateForm('skills', 'name', this.value)"
                                class="w-full bg-zinc-950 border border-zinc-700 px-3 py-2 rounded text-zinc-100"
                            />
                            <input
                                placeholder="Category"
                                value="${state.forms.skills.category}"
                                oninput="updateForm('skills', 'category', this.value)"
                                class="w-full bg-zinc-950 border border-zinc-700 px-3 py-2 rounded text-zinc-100"
                            />
                            <div class="flex gap-2">
                                <button onclick="addItem('skills')" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-semibold">Add</button>
                                <button onclick="cancelForm('skills')" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded font-semibold">Cancel</button>
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        function renderStats() {
            return `
                <div class="space-y-6">
                    <h3 class="text-xl font-bold text-orange-400 border-b border-zinc-700 pb-3">Character Stats</h3>
                    
                    <div class="space-y-4">
                        ${state.data.stats.map(stat => `
                            <div class="bg-zinc-900 p-4 rounded">
                                <div class="flex justify-between items-center mb-3">
                                    <span class="font-semibold text-zinc-100">${stat.name}</span>
                                    <div class="flex gap-2 items-center text-sm">
                                        <input
                                            type="number"
                                            value="${stat.value}"
                                            oninput="updateStat(${stat.id}, 'value', this.value)"
                                            class="w-16 bg-zinc-950 border border-zinc-700 px-2 py-1 text-center rounded text-orange-400"
                                        />
                                        <span class="text-zinc-500">/</span>
                                        <input
                                            type="number"
                                            value="${stat.max}"
                                            oninput="updateStat(${stat.id}, 'max', this.value)"
                                            class="w-16 bg-zinc-950 border border-zinc-700 px-2 py-1 text-center rounded text-orange-400"
                                        />
                                    </div>
                                </div>
                                <div class="w-full bg-zinc-950 h-3 rounded overflow-hidden">
                                    <div class="bg-green-500 h-full transition-all" style="width: ${(stat.value / stat.max) * 100}%"></div>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <button
                        onclick="showForm('stats', { name: '', value: 50, max: 100 })"
                        class="w-full bg-orange-500 hover:bg-orange-600 text-zinc-900 font-bold py-3 rounded flex items-center justify-center gap-2"
                    >
                        ${icons.plus} New Stat
                    </button>

                    ${state.forms.stats ? `
                        <div class="bg-zinc-900 border-l-4 border-orange-500 p-4 rounded space-y-3">
                            <input
                                placeholder="Stat name"
                                value="${state.forms.stats.name}"
                                oninput="updateForm('stats', 'name', this.value)"
                                class="w-full bg-zinc-950 border border-zinc-700 px-3 py-2 rounded text-zinc-100"
                            />
                            <div class="flex gap-2">
                                <button onclick="addItem('stats')" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-semibold">Add</button>
                                <button onclick="cancelForm('stats')" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded font-semibold">Cancel</button>
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        function renderInventory() {
            return `
                <div class="space-y-6">
                    <h3 class="text-xl font-bold text-orange-400 border-b border-zinc-700 pb-3">Inventory</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${state.data.inventory.map(item => `
                            <div class="bg-zinc-900 p-4 rounded flex justify-between items-center">
                                <div>
                                    <h5 class="font-semibold text-zinc-100">${item.name}</h5>
                                    <p class="text-xs text-zinc-500">${item.category} â€¢ Qty: ${item.quantity}</p>
                                </div>
                                <button
                                    onclick="deleteItem('inventory', ${item.id})"
                                    class="text-red-500 hover:text-red-400"
                                >
                                    ${icons.trash}
                                </button>
                            </div>
                        `).join('')}
                    </div>

                    <button
                        onclick="showForm('inventory', { name: '', category: 'Item', quantity: 1 })"
                        class="w-full bg-orange-500 hover:bg-orange-600 text-zinc-900 font-bold py-3 rounded flex items-center justify-center gap-2"
                    >
                        ${icons.plus} New Item
                    </button>

                    ${state.forms.inventory ? `
                        <div class="bg-zinc-900 border-l-4 border-orange-500 p-4 rounded space-y-3">
                            <input
                                placeholder="Item name"
                                value="${state.forms.inventory.name}"
                                oninput="updateForm('inventory', 'name', this.value)"
                                class="w-full bg-zinc-950 border border-zinc-700 px-3 py-2 rounded text-zinc-100"
                            />
                            <input
                                placeholder="Category"
                                value="${state.forms.inventory.category}"
                                oninput="updateForm('inventory', 'category', this.value)"
                                class="w-full bg-zinc-950 border border-zinc-700 px-3 py-2 rounded text-zinc-100"
                            />
                            <input
                                type="number"
                                placeholder="Quantity"
                                value="${state.forms.inventory.quantity}"
                                oninput="updateForm('inventory', 'quantity', Number(this.value))"
                                class="w-full bg-zinc-950 border border-zinc-700 px-3 py-2 rounded text-zinc-100"
                            />
                            <div class="flex gap-2">
                                <button onclick="addItem('inventory')" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-semibold">Add</button>
                                <button onclick="cancelForm('inventory')" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded font-semibold">Cancel</button>
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        function render() {
            document.getElementById('nav-buttons').innerHTML = renderNavigation();
            
            const contentRenderers = {
                overview: renderOverview,
                quests: renderQuests,
                skills: renderSkills,
                stats: renderStats,
                inventory: renderInventory
            };

            document.getElementById('content').innerHTML = contentRenderers[state.activeTab]();
        }

        // Initial render
        render();
    </script>
</body>
</html>